<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08 - Multiple Data Sources</title>
  <script type="module" src="../../dist/aft.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 600px; margin: 2rem auto; padding: 0 1rem; }
    .form-section { background: #f5f5f5; padding: 1rem; border-radius: 4px; margin: 1rem 0; }
    .lookup-section { background: #e8f5e9; padding: 1rem; border-radius: 4px; margin: 1rem 0; }
    input, select { font-size: 1rem; padding: 0.5rem; margin: 0.25rem 0; }
    label { display: block; margin: 0.5rem 0; }
  </style>
</head>
<body>

<h1>08 - Multiple Data Sources</h1>
<p>Use multiple <code>&lt;aft-data&gt;</code> elements with <code>id</code> attributes.</p>

<aft-form>
  <!-- Form data: user input -->
  <aft-data id="form">
  {
    "name": "",
    "country": "",
    "category": ""
  }
  </aft-data>

  <!-- Lookup data: reference lists -->
  <aft-data id="lookup">
  {
    "countries": [
      {"code": "us", "name": "United States"},
      {"code": "uk", "name": "United Kingdom"},
      {"code": "ca", "name": "Canada"},
      {"code": "au", "name": "Australia"},
      {"code": "de", "name": "Germany"}
    ],
    "categories": [
      {"id": "tech", "label": "Technology"},
      {"id": "health", "label": "Healthcare"},
      {"id": "finance", "label": "Finance"},
      {"id": "education", "label": "Education"}
    ]
  }
  </aft-data>

  <div class="form-section">
    <h2>User Form</h2>

    <label>
      Name:
      <input aft-ref="form.name" placeholder="Your name">
    </label>

    <label>
      Country:
      <select aft-ref="form.country">
        <option value="">Select a country...</option>
        <option aft-each="lookup.countries" aft-as="c"
                aft-attr-value="c.code"
                aft-text="c.name"></option>
      </select>
    </label>

    <label>
      Category:
      <select aft-ref="form.category">
        <option value="">Select a category...</option>
        <option aft-each="lookup.categories" aft-as="cat"
                aft-attr-value="cat.id"
                aft-text="cat.label"></option>
      </select>
    </label>
  </div>

  <div class="lookup-section">
    <h2>Current Selection</h2>
    <p>Name: <strong aft-text="form.name || '(none)'"></strong></p>
    <p>Country: <strong aft-text="form.country || '(none)'"></strong></p>
    <p>Category: <strong aft-text="form.category || '(none)'"></strong></p>
  </div>
</aft-form>

<h2>How It Works</h2>
<ul>
  <li>Multiple <code>&lt;aft-data id="..."&gt;</code> elements create namespaced data</li>
  <li>Access via the id: <code>form.name</code>, <code>lookup.countries</code></li>
  <li>Keep form data separate from reference/lookup data</li>
  <li>Lookup data can also be loaded from external sources via <code>src</code></li>
</ul>

</body>
</html>
